<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="member">
		
	<select id="selectMember" parameterType="String" resultType="member">
		SELECT * FROM MEMBER WHERE M_CODE = #{m_code} 
	</select>
		
	<update id="updateProfile" parameterType="member">
		UPDATE MEMBER SET M_NAME= #{m_name}, M_BIRTH= #{m_birth}, M_GENDER = #{m_gender} WHERE M_CODE = #{m_code}
	</update>	
	
	<select id="selectAllProject" parameterType="String" resultType="MyProject">
		SELECT E_CODE, PROJ_NAME, PROJ_COMMENT, SAVE_DATE, ER.COMMENT_COUNT FROM EDIT LEFT JOIN (SELECT E_CODE, COUNT(*) AS COMMENT_COUNT FROM EDIT_REPLY_BOARD  GROUP BY E_CODE) ER  USING(E_CODE) WHERE M_CODE= #{m_code} ORDER BY SAVE_DATE ASC
	</select>	
		
		
</mapper>
